<!DOCTYPE HTML>
<!--
	Industrious by TEMPLATED
	templated.co @templatedco
	Released for free under the Creative Commons Attribution 3.0 license (templated.co/license)
-->
<html>
	<head>
		<title>Lesson 1 "Hello World"</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<meta name="description" content="" />
		<meta name="keywords" content="" />
		<link rel="stylesheet" href="../assets/layui/css/layui.css"  media="all">
		<link rel="stylesheet" href="../assets/css/main.css" />
		<link rel="stylesheet" href="https://codemirror.net/lib/codemirror.css">
		<link rel="stylesheet" href="https://codemirror.net/theme/darcula.css"/>
		<link rel="stylesheet" href="https://codemirror.net/addon/fold/foldgutter.css">
		
		<style>
			.CodeMirror.cm-s-darcula.CodeMirror-wrap{
				border-radius: 0.5rem;
			}
			.CodeMirror.cm-s-darcula.CodeMirror-wrap.CodeMirror-focused {
				border-color: #ce1b28;
				box-shadow: 0 0 0 3px #ce1b28; 
			}
		</style>
		
	</head>
	<body class="is-preload">

		<!-- Header -->
			<header id="header">
				<a class="logo" href="index.html">上科大搬砖社 - ShanghaiTech BrickThrough</a>
				<nav>
					<a href="#menu">目录</a>
				</nav>
			</header>

		<!-- Nav -->
			<nav id="menu">
				<ul class="links">
					<li><a href="index.html">主页</a></li>
					<li><a href="elements.html">Elements</a></li>
					<li><a href="generic.html">Generic</a></li>
				</ul>
			</nav>

		<!-- Heading -->
			<section id="heading">
				<div class="inner">
					<h1>Lesson 1</h1>
					<h1>"Hello World"</h1>
					<h3>From CS100 Summer Homework</h3>
				</div>
			</section>

		<!-- Content -->
			<section id="main" class="wrapper">
				<div class="inner">
					<div class="content">

						<!-- Form -->
						<h3>Code Test (Language: C)</h3>
							<div class="row gtr-uniform">
								
								<!-- Break -->
								<div class="col-12">
									<div class="codearea">
										<textarea name="textarea" id="textareaCode" rows="6"></textarea>
									</div>
								</div>
								<!-- Break -->
								<div class="col-12">
									<ul class="actions">
										<li><input type="submit" value="提交代码" class="primary" id="submitBTN" /></li>
									</ul>
								</div>
								<!-- Break -->
								<div class="col-12">
									<div class="layui-progress" lay-filter="curProgress">
										<div class="layui-progress-bar layui-bg-red" lay-percent="100%"><span id="progressBar" class="layui-progress-text"></span></div>
									</div>
								</div>
								<!-- Break -->
								<div class="col-12">
									<fieldset class="layui-elem-field">
										<legend>当前状态</legend>
										<div id="curStatus" class="layui-field-box">
											<h3 style = "text-align:center">无提交记录</h3>
										</div>
									</fieldset>
									<table class="layui-hide" id="testResult"></table>
								</div>
							</div>
						
					</div>
				</div>
				
				<script src="https://codemirror.net/lib/codemirror.js"></script>
				<script src="https://codemirror.net/mode/clike/clike.js"></script>

				<script src="https://codemirror.net/addon/selection/active-line.js"></script>
				<script src="https://codemirror.net/addon/fold/foldcode.js"></script>
				<script src="https://codemirror.net/addon/fold/foldgutter.js"></script>
				<script src="https://codemirror.net/addon/fold/brace-fold.js"></script>
				<script src="https://codemirror.net/addon/fold/indent-fold.js"></script>

				<script src="../assets/layui/layui.js" charset="utf-8"></script>
				<script src="../assets/layui/form.js"></script>
				
				<script src="https://lib.sinaapp.com/js/jquery/1.9.1/jquery-1.9.1.min.js"></script>
				<script src="https://www.w3xue.com/tools/support/base64.min.js"></script>

				<script src="../assets/js/test.js"></script>

				<script type="text/html" id="statusTpl">
					{{#  if(d.status === 'Accept'){ }}
						<span style="color: #449D54; font-weight:bold;">测试通过 Accept</span>
					{{#  } else if(d.status === 'Compile Error'){ }}
						<span style="color: #e8a60b; font-weight:bold;">编译错误 Compile Error</span>
					{{#  } else if(d.status === 'Runtime Error'){ }}
						<span style="color: #D04051; font-weight:bold;">运行错误 Runtime Error</span>
					{{#  } else if(d.status === 'Time Limit Exceeded'){ }}
						<span style="color: #D04051; font-weight:bold;">超出时间 Time Limit Exceeded</span>
					{{#  } else if(d.status === 'Wrong Answer'){ }}
						<span style="color: #D04051; font-weight:bold;">答案错误 Wrong Answer</span>
					{{#  } else if(d.status === 'Pre-Test Error'){ }}
						<span style="color: #AA38F5; font-weight:bold;">预检错误 Pre-Test Error</span>
					{{#  } }}
				</script>

				<script type="text/html" id="detailTpl">
					<a href="javascript:active['offset'].call('#detailButton', $('#detailButton'), {{d.detail}});" class="icon fa-search" id="detailButton"><span class="label">详情</span></a>
				</script>

				<script type="text/html" id="statusInfo">
					{{#  if(d.status === 'processing'){ }}
						<div style = "text-align:center;">
							<i class="layui-icon layui-icon-loading-1 layui-anim layui-anim-rotate layui-anim-loop" style="font-size: 30px;"></i>
						</div>
						<h3 style = "text-align:center;">{{ d.content }}</h3>
					{{#  } else if(d.status === 'error'){ }}
						<h3 style = "text-align:center;">运行失败！</h3>
						<h3 style = "text-align:center;"><span style="color: #D04051;">{{ d.content }}</span></h3>
						<h3 style = "text-align:center;">请稍后重试。</h3>
					{{#  } else if(d.status === 'finished'){ }}
					{{#  if (d.content.pe != 0) { }}
						<h3 style = "text-align:center;">运行失败！</h3>
						<h3 style = "text-align:center;"><span style="color: #AA38F5;">预检错误 Pre-Test Error</span></h3>
					{{#  } else if(d.content.ce != 0){ }}
						<h3 style = "text-align:center;">运行失败！</h3>
						<h3 style = "text-align:center;"><span style="color: #e8a60b;">编译错误 Compile Error</span></h3>
					{{#  } else { }}
						<h3 style = "text-align:center;">运行成功！</h3>
					{{#  if (d.content.re != 0) { }}
						<h3 style = "text-align:center;"><span style="color: #D04051;">运行错误 Runtime Error</span></h3>
						<h3 style = "text-align:center; line-height: 1;">{{ d.content.re }}个</h3>
					{{#  } if (d.content.tle != 0) { }}
						<h3 style = "text-align:center;"><span style="color: #D04051;">超出时间 Time Limit Exceeded</span></h3>
						<h3 style = "text-align:center; line-height: 1;">{{ d.content.tle }}个</h3>
					{{#  } if (d.content.wa != 0) { }}
						<h3 style = "text-align:center;"><span style="color: #D04051;">答案错误 Wrong Answer</span></h3>
						<h3 style = "text-align:center; line-height: 1;">{{ d.content.wa }}个</h3>
					{{#  } if (d.content.ac != 0) { }}
						<h3 style = "text-align:center;"><span style="color: #449D54;">测试通过 Accept</span></h3>
						<h3 style = "text-align:center; line-height: 1;">{{ d.content.ac }}个</h3>
					{{#  };};} }}
				</script>

				<script>
					var testcases = [{
						"id": "1001",
						"description": "Calculator",
						"input": "6 + 7\ny\n2 * -8\nn\n",
						"answer": "Enter the arithmetic expression to be evaluated (e.g. 5 + 6):\n13.000000\nDid you want to enter another expression? (Enter 'y' or 'n'): Enter the arithmetic expression to be evaluated (e.g. 5 + 6):\n-16.000000\nDid you want to enter another expression? (Enter 'y' or 'n'): \n"
					}]
					var runcode = 7; // C
					var timeLimit = 1;
					setProgress(1, 1);

					btn = $("#submitBTN");
					btn.click(function() {
						btn[0].className = "primary disabled";
						curTime = getCurTime();
						report = {
							"time": curTime, "ac": 0, "wa": 0, "tle": 0, "re": 0, "ce": 0, "pe": 0
						}

						setProgress(0, testcases.length+2);
						setStatusInfo({"status":"processing", "content":"正在进行：预先检查..."});

						setTimeout(function(){
					
							code = editor.getValue();
							code = preTestProcess(code);
							if (code == "Error") {
								setProgress(1, 1);
								btn[0].className = "primary";
								setStatusInfo({"status":"finished", "content":report});
								return;
							} else {
								setProgress(1, testcases.length+2);
								setStatusInfo({"status":"processing", "content":"正在进行：编译..."});
							}

							setTimeout(function(){
								var APIresponse = compileErrorTest(code, runcode);
								if (APIresponse == "OK"){
									setProgress(2, testcases.length+2);
								} else if (APIresponse == "Error") {
									setProgress(2, 2);
									btn[0].className = "primary";
									setStatusInfo({"status":"finished", "content":report});
									return;
								} else {
									setProgress(2, 2);
									btn[0].className = "primary";
									setStatusInfo({"status":"error", "content":APIresponse});
									return;
								}

								targetCaseTest(code, 0);
							}, timeLimit*1000);
						}, 1*1000);
					});
				</script>
			</section>
		
		<!-- Contact & Donate -->
			<section id="cta" class="wrapper">
				<div class="inner">
					<header class="special">
						<h2>有话想说？</h2>
						<ul class="actions special">
							<a href="#" class="button primary disabled">联系我们</a>
						</ul>
					</header>
				</div>
			</section>
		

		<!-- Footer -->
			<footer id="footer">
				<div class="inner">
					<div class="content">
						<section>
							<h3>关于我们</h3>
							<p>上海科技大学搬砖社（ShanghaiTechBrickThrough）是一个致力于翻译搬运英文高质量学术视频的学生组织。社团成立于2019年暑期，距离专业学术搬运二十年还有二十年。我们的发展愿景是打造一个集半公开翻译、学习教育、专业视频搬运为一体的综合学术平台。在做在线课程搬运工作的同时，我们也希望从多维度帮助同学们更方便、更高效地学习。我们期待看到您的Break Through！</p>
						</section>
						<section>
							<h4>快速访问</h4>
							<ul class="alt">
								<li><a href="http://www.shanghaitech.edu.cn/">上海科技大学</a></li>
							</ul>
						</section>
						<section>
							<h4>联系方式</h4>
							<ul class="plain">
								<li><a href="mailto:zhoual@shanghaitech.edu.cn"><i class="icon fa-envelope-o">&nbsp;</i>E-mail</a></li>
								<li><a href="https://github.com/stubrickthrough"><i class="icon fa-github">&nbsp;</i>Github</a></li>
								<li><a href="https://space.bilibili.com/438060628"><i class="icon fa-video-camera">&nbsp;</i>Bilibili</a></li>
								<li><a href="http://wpa.qq.com/msgrd?v=3&uin=1132482282&site=qq&menu=yes"><i class="icon fa-qq">&nbsp;</i>QQ</a></li>
							</ul>
						</section>
					</div>
					<div class="copyright">
						&copy; 2019 ShanghaiTech BrickThrough. Website support <a href="https://templated.co/">Templated</a>. Picture from <a href="http://www.shanghaitech.edu.cn/mlxy/list.htm">ShanghaiTech</a>. Logo by 林希越. All rights reserved.
					</div>
				</div>
			</footer>

		<!-- Scripts -->
			<script src="../assets/js/jquery.min.js"></script>
			<script src="../assets/js/browser.min.js"></script>
			<script src="../assets/js/breakpoints.min.js"></script>
			<script src="../assets/js/util.js"></script>
			<script src="../assets/js/main.js"></script>

	</body>
</html>